<section class="page-header">
  <h1>David Colucci</h1>
  <canvas width="800px" height="800px" id="page-header__canvas"></canvas>
  <aside class="page-header__social"></aside>
  <nav class="page-header__nav">
    <a href="/about">About me</a>
    <a href="/experience">Experience</a>
  </nav>
</section>

<script>
  const CANVAS_BORDER_WIDTH = 18;

  const canvas = document.getElementById('page-header__canvas');
  const ctx = canvas.getContext('2d');

  let lastX;
  let lastY;
  let lastLastX;
  let lastLastY;

  function drawPath(x1, y1, x2, y2) {
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();
  }

  function onMouseEnter(event) {
    lastX = event.layerX - canvas.offsetLeft - CANVAS_BORDER_WIDTH;
    lastY = event.layerY - canvas.offsetTop - CANVAS_BORDER_WIDTH;
  }

  function onMouseLeave(event) {
    const x = event.layerX - canvas.offsetLeft - CANVAS_BORDER_WIDTH;
    const y = event.layerY - canvas.offsetTop - CANVAS_BORDER_WIDTH;

    drawPath(lastX, lastY, x, y);

    lastX = null;
    lastY = null;
    lastLastX = null;
    lastLastY = null;
  }

  function onMouseMove(event) {
    const x = event.layerX - canvas.offsetLeft - CANVAS_BORDER_WIDTH;
    const y = event.layerY - canvas.offsetTop - CANVAS_BORDER_WIDTH;

    if (lastX && lastY) {
      drawPath(lastX, lastY, x, y);
    }

    lastLastX = lastX;
    lastLastY = lastY;
    lastX = x;
    lastY = y;
  }

  canvas.addEventListener('mousemove', onMouseMove);
  canvas.addEventListener('mouseenter', onMouseEnter);
  canvas.addEventListener('mouseleave', onMouseLeave);
</script>
